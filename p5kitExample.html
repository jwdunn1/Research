<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="author" content="James William Dunn">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Example | p5kit | canvas & svg</title>
  <script type="text/javascript" src="p5kit.js"></script>
  <style>
    html,body {
      margin: auto;
      min-height: 100%;
      background-color: rgb(11,11,11);
      display: flex;
    }
  </style>
</head>
<body>

<canvas id="_"></canvas><svg id="_1_"></svg><canvas id="_2_"></canvas>

<script>

// GLOBAL mode canvas sketch
var r=0;
function polygon(r, n) {
  beginShape();
  for (let i=0,a=TAU/n; i<TAU; i+=a)
    vertex(r*cos(i),r*sin(i));
  return endShape(CLOSE);
}

function setup() {
  createCanvas(500,500);
  pixelDensity(2);
}

function draw() {
  background(127);
  translate(250, 250);
  rotate(r);
  polygon(220,3);
  r+=0.01;
}


// INSTANCE mode svg sketch 1
let c1 = function(p) {
  var x,r=0;

  p.polygon=function(r, n) {
    p.beginShape();
    for (let i=0,a=p.TAU/n; i<p.TAU; i+=a)
      p.vertex(r*p.cos(i),r*p.sin(i));
    return p.endShape(p.CLOSE);
  }

  p.setup=function() {
    p.createCanvas(500,500);
    p.background(127);
    p.translate(250, 250);
    x=p.polygon(220,3);
  }

  p.draw = function() {
    r+=0.01;
    x.style.rotate=r+"rad"
  }
};
new p5(c1, "_1_");



// INSTANCE mode canvas sketch 2
let c2 = function(p) {
  var r=0;

  p.polygon=function(r, n) {
    p.beginShape();
    for (let i=0,a=p.TAU/n; i<p.TAU; i+=a)
      p.vertex(r*p.cos(i),r*p.sin(i));
    return p.endShape(p.CLOSE);
  }

  p.setup=function() {
    p.createCanvas(500,500);
    p.pixelDensity(2);
  }

  p.draw=function() {
    p.background(127);
    p.translate(250, 250);
    p.rotate(r);
    p.polygon(220,3);
    r+=0.01;
  }

};
new p5(c2, "_2_");
</script>

</body>
</html>
